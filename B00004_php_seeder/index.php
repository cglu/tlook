<?php
if ($argc != 2 || in_array($argv[1], array(
    '--help',
    '-help',
    '-h',
    '-?'
))) {
    echo '
        
这是一个mysql测试数据生成脚本
        
执行格式:php index.php 50000


上述命令会导入5w条测试数据到数据库
        
';
    exit(0);
}

$t = microtime(true);
$dsn = "mysql:host=127.0.0.1;port=3306;dbname=zhihu2;charset=utf8";
$pdo = new PDO($dsn, 'root', '');
$sth = $pdo->prepare("INSERT INTO zh_user(
  u_id,
 u_name,
  address,
  img_url,
  business,
  gender,
  education,
  major,
  description,
  followees_count,
  followers_count,
  special_count,
  follow_topic_count,
  pv_count,
  approval_count,
  thank_count,
  ask_count,
  answer_count,
  started_count,
  public_edit_count,
  article_count,
  duplicate_count
)VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?);");
$rs = $argv[1];
for ($i = 1; $i <= $rs; $i ++) {
    $e = getEducation();
    $m = '';
    if ($e == "高中" || $e == "初中" || $e == '') {
        $m = '';
    } else {
        $m = getMajor();
    }
    $n = get_uname();
    $b = $sth->execute([
        $n . $i, // `u_id` varchar(40) NOT NULL COMMENT '用户ID',
        $n, // `u_name` varchar(40) NOT NULL COMMENT '用户名',
        "地球街道{$i}1号", // `address` varchar(50) NOT NULL COMMENT '详细地址',
        '', // `img_url` varchar(255) NOT NULL COMMENT '图片URL',
        getBusiness(), // `business` varchar(50) NOT NULL COMMENT '所在行业',
        getGender(), // `gender` enum('MALE','FEMALE') NOT NULL COMMENT '性别',
        $e, // `education` varchar(20) NOT NULL COMMENT '毕业院校',
        $m, // `major` varchar(20) NOT NULL COMMENT '专业',
        getDes(), // `description` varchar(255) NOT NULL COMMENT '一句话描述',
        mt_rand(0, 2000), // `followees_count` int(10) NOT NULL COMMENT '关注者数量',
        mt_rand(0, 300), // `followers_count` int(10) NOT NULL COMMENT '关注了数量',
        mt_rand(0, 50), // `special_count` int(10) NOT NULL COMMENT '专栏数量',
        mt_rand(0, 20), // `follow_topic_count` int(10) NOT NULL COMMENT '关注话题数量',
        mt_rand(0, 10000), // `pv_count` int(10) NOT NULL COMMENT '主页面访问数量',
        mt_rand(0, 500), // `approval_count` int(10) NOT NULL COMMENT '获得赞同数量',
        mt_rand(0, 500), // `thank_count` int(10) NOT NULL COMMENT '获得感谢数量',
        mt_rand(0, 100), // `ask_count` int(10) NOT NULL COMMENT '提问数量',
        mt_rand(0, 50), // `answer_count` int(10) NOT NULL COMMENT '回答数量',
        mt_rand(0, 2000), // `started_count` int(10) NOT NULL COMMENT '收藏数量',
        mt_rand(0, 500), // `public_edit_count` int(10) NOT NULL COMMENT '公共编辑数量',
        mt_rand(0, 300), // `article_count` int(10) NOT NULL COMMENT '文章数量',
        1
    ]); // `duplicate_count` int(10) unsigned NOT NULL DEFAULT '1',
}
$e = microtime(true);
echo "\n".$rs."数据花费" . ($e - $t) . "秒";

function getDes()
{
    $data = [
        '真理惟一可靠的标准就是永远自相符合。 —— 欧文',
        '土地是以它的肥沃和收获而被估价的；才能也是土地，不过它生产的不是粮食，而是真理。如果只能滋生瞑想和幻想的话，即使再大的才能也只是砂地或盐池，那上面连小草也长不出来的。 —— 别林斯基',
        '我需要三件东西：爱情友谊和图书。然而这三者之间何其相通！炽热的爱情可以充实图书的内容，图书又是人们最忠实的朋友。 —— 蒙田',
        '',
        '时间是一切财富中最宝贵的财富。 —— 德奥弗拉斯多',
        '世界上一成不变的东西，只有“任何事物都是在不断变化的”这条真理。 —— 斯里兰卡',
        '',
        '过放荡不羁的生活，容易得像顺水推舟，但是要结识良朋益友，却难如登天。 —— 巴尔扎克',
        '这世界要是没有爱情，它在我们心中还会有什么意义！这就如一盏没有亮光的走马灯。 —— 歌德',
        '',
        '生活有度，人生添寿。 —— 书摘',
        '理想是人生的太阳。 —— 德莱赛',
        '',
        '人生的磨难是很多的，所以我们不可对于每一件轻微的伤害都过于敏感。在生活磨难面前，精神上的坚强和无动于衷是我们抵抗罪恶和人生意外的最好武器。 —— 洛克',
        '',
        '人生并不像火车要通过每个站似的经过每一个生活阶段。人生总是直向前行走，从不留下什么。 —— 刘易斯',
        '',
        '她们把自己恋爱作为终极目标，有了爱人便什么都不要了，对社会作不了贡献，人生价值最少。 —— 向警予',
        '',
        '人生贵知心，定交无暮早。 —— 袁中道',
        '将人生投于赌博的赌徒，当他们胆敢妄为的时候，对自己的力量有充分的自信，并且认为大胆的冒险是唯一的形式。 —— 茨威格',
        
        '',
        '',
        '谁不会休息，谁就不会工作。 —— 列宁',
        '在年轻人的颈项上，没有什么东西能比事业心这颗灿烂的宝珠更迷人的了。 —— 哈菲兹',
        '事业无穷年。 —— 韩愈',
        '在学校和生活中，工作的最重要的动力是工作中的乐趣，是工作获得结果时的乐趣以及对这个结果的社会价值的认识。 —— 爱因斯坦',
        '',
        '',
        '',
        '我们破灭的希望，流产的才能，失败的事业，受了挫折的雄心，往往积聚起来变为忌妒。 —— 巴尔扎克',
        '先付报酬的工作是肯定干不好的。 —— 约·弗洛里奥',
        '只有当全体居民都参加管理工作时，才能彻底进行反官僚主义的斗争，才能完全战胜官僚主义。 —— 列宁',
        '过放荡不羁的生活，容易得像顺水推舟，但是要结识良朋益友，却难如登天。 —— 巴尔扎克',
        '生活有度，人生添寿。 —— 书摘',
        '我读的书愈多，就愈亲近世界，愈明了生活的意义，愈觉得生活的重要。 —— 高尔基',
        '',
        '人生的磨难是很多的，所以我们不可对于每一件轻微的伤害都过于敏感。在生活磨难面前，精神上的坚强和无动于衷是我们抵抗罪恶和人生意外的最好武器。 —— 洛克',
        '人生并不像火车要通过每个站似的经过每一个生活阶段。人生总是直向前行走，从不留下什么。 —— 刘易斯',
        '生活是一种绵延不绝的渴望，渴望不断上升，变得更伟大而高贵。 —— 杜伽尔',
        '',
        '有所作为是生活的最高境界。 —— 恩格斯',
        '真理惟一可靠的标准就是永远自相符合。 —— 欧文',
        '土地是以它的肥沃和收获而被估价的；才能也是土地，不过它生产的不是粮食，而是真理。如果只能滋生瞑想和幻想的话，即使再大的才能也只是砂地或盐池，那上面连小草也长不出来的。 —— 别林斯基',
        '世界上一成不变的东西，只有“任何事物都是在不断变化的”这条真理。 —— 斯里兰卡',
        '',
        '相信谎言的人必将在真理之前毁灭。 —— 赫尔巴特',
        '',
        '一件事实是一条没有性别的真理。 —— 纪伯伦',
        '说真话不应当是艰难的事情。我所谓真话不是指真理，也不是指正确的话。自己想什麽就讲什麽；自己怎麽想就怎麽说这就是说真话。 —— 巴金',
        '劳动和人，人和劳动，这是所有真理的父母亲。 —— 苏霍姆林斯基',
        '',
        '',
        '时间是一切财富中最宝贵的财富。 —— 德奥弗拉斯多',
        '',
        '如果你浪费了自己的年龄，那是挺可悲的。因为你的青春只能持续一点儿时间——很短的一点儿时间。 —— 王尔德',
        '没有人不爱惜他的生命，但很少人珍视他的时间。 —— 梁实秋',
        '',
        '从不浪费时间的人，没有工夫抱怨时间不够。 —— 杰弗逊',
        '较高级复杂的劳动，是这样一种劳动力的表现，这种劳动力比较普通的劳动力需要较高的教育费用，它的生产需要花费较多的劳动时间。因此，具有较高的价值。 —— 马克思',
        '把时间用在思考上是最能节省时间的事情。 —— 卡曾斯',
        '',
        '我曾经认为自己是个太空人，我花了好长一段时间，才发现我只是一名星球之间的寂寞舞者。 —— 前苏联的宇航员',
        ''
    ];
    return $data[mt_rand(0, count($data) - 1)];
}

function get_uname()
{
    $data = 'qwertyuiopasdfghjklzxcvbnm1234567890-';
    $uname = '';
    for ($i = 0; $i < mt_rand(4, 8); $i ++) {
        $uname .= $data[mt_rand(0, strlen($data) - 1)];
    }
    return $uname;
}

function getEducation()
{
    $data = [
        '清华大学',
        '北京大学',
        '南京大学',
        '复旦大学',
        '浙江大学',
        '上海交通大学',
        '南开大学',
        '中国人民大学',
        '中山大学',
        '武汉大学',
        '西安交通大学',
        '华中科技大学',
        '厦门大学',
        '四川大学',
        '东南大学',
        '',
        '吉林大学',
        '中南大学',
        '',
        '山东大学',
        '西北大学',
        '湖南大学',
        '兰州大学',
        '暨南大学',
        '重庆大学',
        '苏州大学',
        '',
        '云南大学',
        '上海大学',
        '辽宁大学',
        '山西大学',
        '中南财经政法大学',
        '安徽大学',
        '',
        '郑州大学',
        '汕头大学',
        '内蒙古大学',
        '南昌大学',
        '',
        '河南大学',
        '江南大学',
        '江苏大学',
        '',
        '湘潭大学',
        '',
        '扬州大学',
        '',
        '广西大学',
        '延边大学',
        '',
        '青岛大学',
        '湖北大学',
        '',
        '河北大学',
        '',
        '华侨大学',
        '深圳大学',
        '黑龙江大学',
        '',
        '北京工商大学',
        '',
        '新疆大学',
        '贵州大学',
        '宁波大学',
        '浙江工商大学',
        '沈阳大学',
        '大连大学',
        '烟台大学',
        '',
        '聊城大学',
        '江汉大学',
        '',
        '渤海大学',
        '南华大学',
        '石河子大学',
        '广州大学',
        '',
        '五邑大学',
        '三峡大学',
        '长江大学',
        '集美大学',
        '',
        '',
        '济南大学',
        '宁夏大学',
        '哈尔滨学院',
        '',
        '中北大学',
        '',
        '南通大学',
        '海南大学',
        '咸宁学院',
        '齐齐哈尔大学',
        '',
        '北华大学',
        '北京联合大学',
        '吉首大学',
        '西藏大学',
        '佳木斯大学',
        '苏州科技学院',
        '温州大学',
        '内蒙古民族大学',
        '西华大学',
        '潍坊学院',
        '',
        '襄樊学院',
        '德州学院',
        '南京晓庄学院',
        '黄河科技学院',
        '',
        '仰恩大学',
        '湖南文理学院',
        '延安大学',
        '青海大学',
        '攀枝花学院',
        '河北北方学院',
        '肇庆学院',
        '',
        '宜宾学院',
        '重庆三峡学院',
        '皖西学院',
        '嘉兴学院',
        '浙江万里学院',
        '西安文理学院',
        '重庆文理学院',
        '韶关学院',
        '孝感学院',
        '长春大学',
        '宜春学院',
        '嘉应学院',
        '',
        '合肥学院',
        '茂名学院',
        '',
        '井冈山学院',
        '惠州学院',
        '大理学院',
        '三江学院',
        '',
        '丽水学院',
        '河西学院',
        '塔里木大学',
        '上海杉达学院',
        '昌吉学院',
        '',
        '绥化学院',
        '黑龙江东方学院',
        '邵阳学院',
        '湖南人文科技学院',
        '邢台学院',
        '怀化学院',
        '',
        '许昌学院',
        '辽东学院',
        '中华女子学院',
        '平顶山学院',
        '',
        '三明学院',
        '黄山学院',
        '滨州学院',
        '',
        '菏泽学院',
        '长治学院',
        '红河学院',
        '莆田学院',
        '台州学院',
        '湖南城市学院',
        '',
        '巢湖学院',
        '西安培华学院',
        '枣庄学院',
        '成都学院',
        '湘南学院',
        '',
        '西昌学院',
        '泰山学院',
        '闽江学院',
        '安徽新华学院',
        '烟台南山学院',
        '',
        '九江学院',
        '青岛滨海学院',
        '铜陵学院',
        '毕节学院',
        '龙岩学院',
        '滁州学院',
        '唐山学院',
        '贵阳学院',
        '长沙学院',
        '',
        '运城学院',
        '榆林学院',
        '衡水学院',
        '赤峰学院',
        '江西蓝天学院',
        '',
        '邯郸学院',
        '石家庄学院',
        '宿州学院',
        '广东培正学院',
        '黄淮学院',
        '',
        '西京学院',
        '陇东学院',
        '浙江树人学院',
        '西安欧亚学院',
        '北京城市学院',
        '河池学院',
        '广东白云学院',
        '晋中学院',
        '',
        '西安外事学院',
        '高中',
        '初中',
        ''
    ];
    return $data[mt_rand(0, count($data) - 1)];
}

function getBusiness()
{
    $data = [
        '',
        '房屋和土木工程建筑业',
        '建筑安装业',
        '建筑装饰业',
        '其他建筑业',
        '交通运输、仓储及邮政业',
        '',
        '信息传输、计算机服务和软件业',
        '电信和其他信息传输服务业',
        '计算机服务业',
        '',
        '住宿和餐饮业',
        '住宿业',
        '',
        '餐饮业',
        '互联网',
        '',
        '金融业',
        '银行业',
        '证券业',
        '',
        '保险业',
        '教育',
        '卫生、社会保障和社会福利业',
        '卫生',
        '社会保障业',
        '',
        '社会福利业',
        '文化、体育和娱乐业',
        '新闻出版业',
        '广播、电视、电影和音像业',
        '新闻出版业',
        '',
        '广播、电视、电影和音像业',
        '纺织服装、鞋、帽制造业',
        '皮革、毛皮、羽毛（绒）及其制品业',
        '',
        '木材加工及木、竹、藤、棕、草制品业',
        '家具制造业',
        '造纸及纸制品业',
        '印刷业和记录媒介的复制'
    ];
    return $data[mt_rand(0, count($data) - 1)];
}

function getGender()
{
    $data = [
        'MALE',
        'FEMALE'
    ];
    return $data[mt_rand(0, 1)];
}

function getMajor()
{
    $data = [
        '',
        '电子信息科学与技术',
        '光信息科学与技术',
        '',
        '电气工程及其自动化',
        '自动化',
        '电子信息工程',
        '通信工程',
        '外贸英语',
        '小语种',
        '',
        '法学',
        '社会学',
        '治安学',
        '侦查学',
        '机械设计制造及其自动化',
        '材料成型及控制工程',
        '工业设计',
        '过程装备与控制工程',
        '',
        '测控技术与仪器',
        '建筑学',
        '城市规划',
        '',
        '土木工程',
        '建筑环境与设备工程',
        '给水排水工程',
        '会计学',
        '财务管理',
        '对外汉语',
        '新闻学',
        '',
        '广播电视新闻学',
        '广告学',
        '编辑出版学',
        '临床医学',
        '麻醉学',
        '',
        '医学影象学',
        '医学检验',
        '口腔医学',
        '药理学',
        '',
        '中药理论',
        '环境科学',
        '生态学',
        '心理学',
        '应用心理学',
        '工商管理',
        '市场营销',
        '人力资源管理',
        '旅游管理'
    ];
    return $data[mt_rand(0, count($data) - 1)];
}
?>

